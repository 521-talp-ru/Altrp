(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{41:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.route=t.route,!this.route)throw"Нужен URL"}var t,n,o;return t=e,(n=[{key:"get",value:function(e){if(!e)throw'Get only by "id"';var t=this.route+"/"+e;return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"getAll",value:function(){var e=this.route;return fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"post",value:function(e){e._token=_token;var t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};return fetch(this.route,t).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"put",value:function(e,t){t._token=_token;var n={method:"put",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},r=this.route+"/"+e;return fetch(r,n).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"delete",value:function(e){var t={method:"delete",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=this.route+"/"+id;return fetch(n,t).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}}])&&r(t.prototype,n),o&&r(t,o),e}();var a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"areaFabric",value:function(t){var n=new e;return n.settings=t.settings,n.template=new a,n.template.data=JSON.parse(t.template.data),n.template.id=t.template.id,n}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"routeFabric",value:function(t){var n=new e;n.areas=[];var r=!0,o=!1,a=void 0;try{for(var i,c=t.areas[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value;n.areas.push(u.areaFabric(s))}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}],(n=null)&&c(t.prototype,n),r&&c(t,r),e}(),l=n(26),f=n(22);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resource=new o({route:"/ajax/routes"}),this.loadRoutes()}var t,n,r;return t=e,(n=[{key:"loadRoutes",value:function(){this.resource.getAll().then((function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,i=e.routes[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t.push(s.routeFabric(u))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}l.a.dispatch(Object(f.b)(t))})).catch((function(e){console.error(e)}))}}])&&h(t.prototype,n),r&&h(t,r),e}();t.default=new p}}]);
//# sourceMappingURL=4.bundle.js.map