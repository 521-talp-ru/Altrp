(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{314:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},315:function(e,t,n){"use strict";var a=n(15),s=n.n(a),r=n(316),l=n.n(r),i=n(2),c=n.n(i),o=n(3),u=n.n(o),m=n(4),h=n.n(m),p=n(5),f=n.n(p),d=n(1),v=n.n(d),b=n(6),g=n.n(b),E=n(0),y=n.n(E);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O=function(e){function t(e){var n;return c()(this,t),(n=h()(this,f()(t).call(this,e))).state={elementStyles:[]},window.stylesModule=v()(n),window.stylesModuleResolve(v()(n)),n}return g()(t,e),u()(t,[{key:"addElementStyles",value:function(e,t){if(t){var n=!1,a=l()(this.state.elementStyles);a.forEach((function(a){a.elementId===e&&(n=!0,a.styles=t)})),n||a.push({elementId:e,styles:t}),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{elementStyles:a}))}}},{key:"render",value:function(){return y.a.createElement("div",{className:"styles-container"},this.state.elementStyles.map((function(e){return y.a.createElement("style",{"data-styles-id":e.elementId,key:e.elementId},e.styles)})))}}]),t}(E.Component);t.a=O},316:function(e,t,n){var a=n(317),s=n(318),r=n(319),l=n(320);e.exports=function(e){return a(e)||s(e)||r(e)||l()}},317:function(e,t,n){var a=n(314);e.exports=function(e){if(Array.isArray(e))return a(e)}},318:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},319:function(e,t,n){var a=n(314);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}},320:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},322:function(e,t,n){"use strict";n.r(t);var a=n(15),s=n.n(a),r=n(2),l=n.n(r),i=n(3),c=n.n(i),o=n(4),u=n.n(o),m=n(5),h=n.n(m),p=n(1),f=n.n(p),d=n(6),v=n.n(d),b=n(0),g=n.n(b),E=(n(125),function e(t){l()(this,e),this.modules=t}),y=n(12),w=function(e){function t(){return l()(this,t),u()(this,h()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"parseData",value:function(e,t){var n=[],a=new(window.elementsManager.getElementClass(e.name));if(e.children&&e.children.length){var s=!0,r=!1,l=void 0;try{for(var i,c=e.children[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var o=i.value;n.push(this.parseData(o,a))}}catch(e){r=!0,l=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw l}}}return a.id=e.id,a.children=n,a.settings=0===e.settings.length?{}:e.settings,t&&(a.parent=t),a}},{key:"duplicateElement",value:function(e,t){var n=this._duplicateElement(e);t.insertNewChildAfter(e.getId(),n);var a=Object(y.b)().modules.templateDataStorage;return a.elementsIds=_.union(a.elementsIds,n.getIds()),n}},{key:"_duplicateElement",value:function(e){var t=this,n=new(elementsManager.getElementClass(e.getName())),a=[];return e.children.map((function(e){var s=t._duplicateElement(e);s.setParent(n),a.push(s)})),n.component=new n.setChildren(a),n.settings=_.cloneDeep(e.settings),n.children=a,n}}]),t}(E),O=function(){function e(t){if(l()(this,e),this.route=t.route,!this.route)throw"Нужен URL"}return c()(e,[{key:"get",value:function(e){if(!e)throw'Get only by "id"';var t=this.route+"/"+e;return fetch(t,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"getAll",value:function(){var e=this.route;return fetch(e,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"post",value:function(e,t){e._token=_token,t=t||{"Content-Type":"application/json"};var n={method:"POST",body:JSON.stringify(e),headers:t};return fetch(this.route,n).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"postFiles",value:function(e,t){String(Math.random()).slice(2);t=t||"image";var n={"X-CSRF-TOKEN":_token},a=new FormData;console.log(e);for(var s=0;s<e.length;s++)e[s].size>10485760||0!==e[s].type.indexOf(t)?console.log(e[s]):a.append("files[".concat(s,"]"),e[s]);var r={method:"POST",body:a,headers:n};return fetch(this.route,r).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"put",value:function(e,t){t._token=_token;var n={method:"put",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},a=this.route+"/"+e;return fetch(a,n).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}},{key:"delete",value:function(e){var t={method:"delete",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=this.route+"/"+id;return fetch(n,t).then((function(e){return!1===e.ok?Promise.reject(e.text(),e.status):e.json()}))}}]),e}(),j=n(54),k=n(18),P=n(32),S=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).resource=new O({route:"/admin/ajax/templates"}),n}return v()(t,e),c()(t,[{key:"load",value:function(){var e=this;if(this.template_id=Object(y.e)(),k.a.dispatch(Object(P.b)(y.a.TEMPLATE_SAVING)),this.template_id)this.resource.get(this.template_id).then((function(t){var n=JSON.parse(t.data),a=e.modules.elementsFactory.parseData(n);Object(y.b)().modules.templateDataStorage.replaceAll(a),Object(y.b)().endLoading(),Object(y.b)().modules.templateDataStorage.title=n.title,Object(y.b)().modules.templateDataStorage.name=n.name,k.a.dispatch(Object(P.b)(y.a.TEMPLATE_UPDATED))})).catch((function(e){console.error(e),k.a.dispatch(Object(P.b)(y.a.TEMPLATE_UPDATED))}))}},{key:"saveTemplate",value:function(){k.a.dispatch(Object(P.b)(y.a.TEMPLATE_SAVING));var e=Object(y.b)().modules.templateDataStorage.getTemplateDataForSave();this.resource.put(this.template_id,e).then((function(e){k.a.dispatch(Object(P.b)(y.a.TEMPLATE_UPDATED))})).catch((function(e){console.error(e),k.a.dispatch(Object(P.b)(y.a.TEMPLATE_UPDATED))}))}}]),t}(E),M=function e(){l()(this,e)},A=function e(){l()(this,e)},N=n(56),T=n(21),C=n(55),D=n(35),z=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).elementsIds=[],n}return v()(t,e),c()(t,[{key:"replaceAll",value:function(e){if(!e instanceof j.a)throw"Expect Root Element as root element;)";this.rootElement=e,this.elementsIds=e.getIds(),this.setCurrentRootElement()}},{key:"getTemplateData",value:function(){return this.rootElement.toObject()}},{key:"getTemplateDataForSave",value:function(){var e={};return e.data=this.getTemplateData(),e.title=this.title||"testtitle",e.name=this.name||"testname",e}},{key:"setCurrentRootElement",value:function(){return this.currentElement=this.rootElement,k.a.dispatch(Object(N.b)(this.currentElement)),this.currentElement}},{key:"setCurrentElement",value:function(e){if(!e instanceof T.a)throw"Only Base Element Can Be Set as Default";this.currentElement=e,k.a.dispatch(Object(N.b)(e))}},{key:"getCurrentElement",value:function(){return this.currentElement?this.currentElement:this.setCurrentRootElement()}},{key:"getRootElement",value:function(){return this.rootElement}},{key:"addWidgetInSection",value:function(e){var t=new C.a;this.elementsIds.push(t.getId());var n=new D.a;this.elementsIds.push(n.getId());var a=new(window.elementsManager.getElementClass(e));this.elementsIds.push(a.getId()),n.appendWidget(a),t.appendColumn(n),this.rootElement.appendNewSection(t),this.setCurrentElement(a),k.a.dispatch(Object(P.b)(y.a.TEMPLATE_NEED_UPDATE)),Object(y.b)().showSettingsPanel()}}]),t}(E),L=function(){function e(t){l()(this,e),this.elementsFactory=new w(this),this.saveImportModule=new S(this),this.settingsChangeModule=new M(this),this.templateSettingsChangeModule=new A(this),this.templateDataStorage=new z(this)}return c()(e,[{key:"loaded",value:function(){this.saveImportModule.load()}}]),e}(),x=n(26),I=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).state={element:n.props.element},n.onDragStart=n.onDragStart.bind(f()(n)),n}return v()(t,e),c()(t,[{key:"onDragStart",value:function(e){k.a.dispatch(Object(x.c)(null)),e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/plain",this.state.element.getName())}},{key:"render",value:function(){if(!this.state.element instanceof T.a)throw"Widget Component must has Element in props";return(g.a.createElement("div",{className:"widget-icon",draggable:"true",onDragStart:this.onDragStart},g.a.createElement(this.state.element.getIconComponent(),{height:35}),g.a.createElement("div",{className:"widget-icon__title"},this.state.element.getTitle())))}}]),t}(b.Component),R=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).state={widgets:window.elementsManager.getWidgetsList()},n}return v()(t,e),c()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"widget-panel"},this.state.widgets.map((function(e){return g.a.createElement(I,{element:e,key:e.getName()})})))}}]),t}(b.Component),H=n(10),B=n(8),V=n.n(B),U=n(9),W=n.n(U),F=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"22",height:"22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M19.187 1.081h0l-1.606 1.607-.12-.12a.448.448 0 00-.634 0l.035.036-.035-.036L4.01 15.386a8.012 8.012 0 00-1.832 2.827l-.546 1.43a.443.443 0 00-.027.118l-.524.524a.448.448 0 000 .634h0a.447.447 0 00.634 0l.524-.524a.441.441 0 00.118-.027l1.43-.546a8.015 8.015 0 002.827-1.832L17.767 6.838c.007.138-.026.312-.105.502a2.29 2.29 0 01-.498.725l-3.378 3.378a.448.448 0 000 .634l.035-.035-.035.035a.447.447 0 00.634 0s0 0 0 0L17.798 8.7c.407-.407.696-.896.812-1.377l-.049-.012.049.012c.106-.445.054-.863-.148-1.18l.97-.97a.448.448 0 000-.633l-.12-.12 1.607-1.606-.036-.036.036.036a.449.449 0 000-.634l-.036.035.036-.035L19.82 1.08a.448.448 0 00-.634 0zM5.98 17.356a7.121 7.121 0 01-2.513 1.628l-.73.279.279-.73-.047-.018.047.017c.362-.949.91-1.794 1.628-2.512l.397-.397 1.336 1.336-.397.397zm1.031-1.03l-1.336-1.337 11.47-11.47 1.335 1.337-11.469 11.47zM18.678 3.784l-.463-.463 1.29-1.29.462.464-1.289 1.289z",fill:"#343B4C",stroke:"#3C455B",strokeWidth:".1"})))},J=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"20",height:"19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M5.6 15.883c0-1.136-.835-2.08-1.929-2.276V1.317A.419.419 0 003.25.9a.419.419 0 00-.421.417v12.29C1.735 13.803.9 14.747.9 15.883c0 1.279 1.055 2.317 2.35 2.317 1.295 0 2.35-1.038 2.35-2.317zm-2.35 1.484a1.497 1.497 0 01-1.507-1.484c0-.816.675-1.483 1.507-1.483.832 0 1.507.667 1.507 1.483 0 .817-.675 1.484-1.507 1.484zM11.9 9.484a2.376 2.376 0 00-1.873-2.33V1.317A.414.414 0 009.615.9a.414.414 0 00-.413.417v5.812A2.375 2.375 0 007.2 9.484c0 1.193.87 2.185 2.002 2.356v5.943c0 .23.184.417.413.417a.414.414 0 00.412-.417v-5.968a2.376 2.376 0 001.873-2.33zm-2.35 1.55a1.54 1.54 0 01-1.526-1.55A1.54 1.54 0 019.55 7.936c.84 0 1.526.693 1.526 1.548a1.54 1.54 0 01-1.526 1.55zM19.1 3.217C19.1 1.938 18.044.9 16.75.9S14.4 1.938 14.4 3.217c0 1.136.835 2.08 1.929 2.276v12.29c0 .232.19.417.421.417a.419.419 0 00.421-.417V5.493c1.094-.196 1.929-1.14 1.929-2.276zM16.75 4.7a1.497 1.497 0 01-1.507-1.483c0-.817.675-1.484 1.507-1.484.832 0 1.507.667 1.507 1.484 0 .816-.675 1.483-1.507 1.483z",fill:"#343B4C",stroke:"#343B4C",strokeWidth:".2"})))},G=n(119),K=n(11),X=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"10",height:"7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M1 6l3.5-4 4 4",stroke:"#343B4C",strokeWidth:"1.5"})))},$=n(126);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Q=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).state={open:e.open},n.toggle=n.toggle.bind(f()(n)),n}return v()(t,e),c()(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props.controls||[],t="settings-section "+(this.state.open?"open":"");return g.a.createElement("div",{className:t},g.a.createElement("div",{className:"settings-section__title d-flex ",onClick:this.toggle},g.a.createElement("div",{className:"settings-section__icon d-flex "},g.a.createElement(X,null)),g.a.createElement("div",{className:"settings-section__label"},this.props.label)),g.a.createElement("div",{className:"controllers-wrapper"},e.map((function(e){var t=window.controllersManager.getController(e.type);return g.a.createElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:e.controlId,controller:new $.a(e)}))}))))}}]),t}(b.Component);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Z=function(e){function t(){return l()(this,t),u()(this,h()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.sections||[];return(g.a.createElement("div",{className:"settings-controllers"},e.map((function(e,t){return g.a.createElement(Q,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:e.sectionId,open:0===t}))}))))}}]),t}(b.Component);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var te=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).state={activeTab:"content"},n}return v()(t,e),c()(t,[{key:"setActiveTab",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{activeTab:e}))}},{key:"render",value:function(){var e=this,t=window.controllersManager,n=[];this.props.currentElement.getName&&(n=t.getControls(this.props.currentElement.getName())[this.state.activeTab]||[]);var a="panel-tab d-flex "+(this.state.activeTab===K.i?"active":""),s="panel-tab d-flex "+(this.state.activeTab===K.j?"active":""),r="panel-tab d-flex "+(this.state.activeTab===K.h?"active":"");return g.a.createElement("div",{className:"panel settings-panel d-flex"},g.a.createElement("div",{className:"panel-tabs d-flex"},g.a.createElement("button",{className:a,onClick:function(){return e.setActiveTab(K.i)}},g.a.createElement("span",{className:"panel-tab__icon"},g.a.createElement(F,null)),g.a.createElement("span",{className:"panel-tab__text"},"Content")),g.a.createElement("button",{className:s,onClick:function(){return e.setActiveTab(K.j)}},g.a.createElement("span",{className:"panel-tab__icon"},g.a.createElement(J,null)),g.a.createElement("span",{className:"panel-tab__text"},"Style")),g.a.createElement("button",{className:r,onClick:function(){return e.setActiveTab(K.h)}},g.a.createElement("span",{className:"panel-tab__icon"},g.a.createElement(G.a,null)),g.a.createElement("span",{className:"panel-tab__text"},"Advanced"))),g.a.createElement(Z,{sections:n}))}}]),t}(b.Component);var ne=Object(H.b)((function(e){return{currentElement:e.currentElement.currentElement}}))(te),ae=function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).state={},n}return v()(t,e),c()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"editor-window"},g.a.createElement("iframe",{src:"/admin/editor-content"}))}}]),t}(b.Component),se=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"17",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M15 0H1.364C.612 0 0 .612 0 1.364v9.545c0 .752.612 1.364 1.364 1.364h4.774c-.014.544-.118 1.414-.508 1.824a.67.67 0 01-.516.221.34.34 0 100 .682h6.136a.34.34 0 100-.682.668.668 0 01-.515-.22c-.39-.409-.494-1.28-.509-1.825H15c.752 0 1.364-.612 1.364-1.364V1.364C16.364.612 15.752 0 15 0zM8.182 11.593a.685.685 0 010-1.368.685.685 0 010 1.368zM1.364 9.545V1.364H15v8.181H1.365z",fill:"#8E94AA"})))},re=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"97",height:"35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M20.245 8.309l-3.747 9.57c0 2.31.476 4.088 1.443 5.31.318.41.808.796 1.483 1.154l-1.086 3.398c-.966-.358-1.8-.982-2.516-1.885a11.593 11.593 0 01-1.257-2.057c-.848 1.42-1.801 2.402-2.887 2.92-.82.411-1.827.61-3.032.61-2.423 0-4.449-.862-6.05-2.601C.86 22.883 0 20.388 0 17.228c0-1.101.066-2.097.199-2.96.132-.862.37-1.685.701-2.455.702-1.566 1.642-2.76 2.847-3.584 1.205-.823 2.595-1.234 4.184-1.234 1.47 0 2.74.292 3.813.863 1.51.796 2.622 2.097 3.31 3.902l2.212-4.858 2.979 1.407zm-7.163 9.53c.026-.093.04-.252.04-.464v-.293a.602.602 0 00-.04-.212c0-1.686-.477-3.185-1.417-4.5-.953-1.313-2-1.964-3.151-1.964-1.364 0-2.476.584-3.31 1.765-.914 1.275-1.364 3.053-1.364 5.35 0 2.097.463 3.703 1.403 4.804.834.983 1.894 1.487 3.165 1.487.887 0 1.615-.265 2.158-.796.9-.903 1.748-2.615 2.516-5.177zM38.874 27.05h-3.92l-4.077-11.162-.967-3.066-1.006 3.146-3.959 11.083h-4.184l7.203-19.14a72.897 72.897 0 01-.755-2.018c-.172-.451-.304-.756-.397-.902-.503-.797-1.31-1.195-2.41-1.195-.384 0-1.125.12-2.237.358l.437-3.69a13.272 13.272 0 011.35-.358A5.454 5.454 0 0124.985 0c2.065 0 3.68 1.075 4.833 3.212.437.743 1.032 2.177 1.8 4.3l7.256 19.539zM55.054 10.804h-5.587v10.579c0 .77.026 1.261.066 1.487.053.212.185.411.437.584.238.12.556.185.94.185.291 0 .847-.066 1.695-.185l.582 3.504c-.437.093-1.033.186-1.8.252-.769.066-1.298.106-1.59.106-1.204 0-2.144-.186-2.833-.557-.688-.372-1.178-.916-1.496-1.646-.146-.359-.252-.836-.318-1.447-.066-.597-.106-1.42-.106-2.456V10.804l-2.595-.04c-.556 0-1.072.253-1.55.757-.145.173-.33.438-.582.796l-2.515-2.561c.476-.65.887-1.128 1.231-1.447 1.06-.969 2.198-1.447 3.43-1.447l12.604.04v3.902h-.013zM73.578 11.56c.648 1.567.966 3.372.966 5.416 0 2.124-.344 3.956-1.046 5.495-.702 1.54-1.721 2.761-3.059 3.65-1.35.89-2.793 1.341-4.356 1.341-.94 0-1.681-.093-2.237-.292-.768-.265-1.55-.783-2.344-1.553v9.026h-4.356l.04-18.53c0-3.73 1.258-6.41 3.786-8.016 1.563-.983 3.337-1.487 5.336-1.487 1.655 0 3.112.425 4.383 1.288 1.245.849 2.211 2.07 2.886 3.663zm-4.357-.079c-.9-1.101-1.972-1.659-3.244-1.659-1.244 0-2.356.584-3.31 1.765-.45.585-.807 1.394-1.059 2.443a14.626 14.626 0 00-.384 3.41c0 2.31.45 4.01 1.364 5.098.913 1.088 2 1.62 3.244 1.62 1.297 0 2.41-.558 3.35-1.66.45-.584.807-1.354 1.059-2.35.251-.982.384-2.07.384-3.251 0-1.182-.12-2.23-.344-3.146-.226-.903-.583-1.66-1.06-2.27zM97 10.725l-2.158-.04-.04 16.366h-4.078V10.698h-6.7v16.366h-3.998V10.738c-.239 0-.53.093-.887.265-.345.186-.755.505-1.205.956l-2.662-2.668c.98-.969 1.854-1.593 2.596-1.898.74-.305 1.588-.451 2.515-.451H97v3.783z",fill:"#fff"})))},le=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"15",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M14.437 4.1L7.218 0 0 4.1l7.218 4.124 7.219-4.125z",fill:"#fff"}),g.a.createElement("path",{d:"M7.218 8.933l-4.867-2.78L0 7.487l7.218 4.124 7.219-4.124-2.351-1.336-4.868 2.781z",fill:"#fff"}),g.a.createElement("path",{d:"M7.218 12.322L2.351 9.54 0 10.876 7.218 15l7.219-4.124-2.351-1.335-4.868 2.78z",fill:"#fff"})))},ie=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"18",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M9.643 0C5.872 0 2.75 2.8 2.228 6.429H0l3.214 3.214L6.43 6.429H4.394a5.366 5.366 0 015.249-4.286A5.363 5.363 0 0115 7.5a5.363 5.363 0 01-5.357 5.357 5.376 5.376 0 01-4.35-2.23l-1.74 1.252A7.523 7.523 0 009.643 15c4.135 0 7.5-3.365 7.5-7.5S13.778 0 9.643 0z",fill:"#8E94AA"}),g.a.createElement("path",{d:"M8.571 4.286v4.357l3.199 1.918 1.103-1.837-2.159-1.295V4.286H8.571z",fill:"#8E94AA"})))},ce=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"17",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{d:"M8.388 0C5.183 0 2.276 1.754.131 4.602a.664.664 0 000 .793C2.276 8.246 5.183 10 8.388 10s6.112-1.754 8.257-4.602a.664.664 0 000-.793C14.5 1.754 11.593 0 8.388 0zm.23 8.52a3.53 3.53 0 01-3.751-3.75 3.536 3.536 0 013.291-3.29 3.53 3.53 0 013.75 3.75 3.548 3.548 0 01-3.29 3.29zM8.51 6.895a1.897 1.897 0 01-2.017-2.018 1.908 1.908 0 011.774-1.774 1.897 1.897 0 012.018 2.018 1.908 1.908 0 01-1.774 1.774z",fill:"#8E94AA"})))},oe=n(80),ue=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"13",height:"13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{fill:"#fff",d:"M0 10h3v3H0zM5 10h3v3H5zM10 10h3v3h-3zM0 0h3v3H0zM5 0h3v3H5zM10 0h3v3h-3zM0 5h3v3H0zM5 5h3v3H5zM10 5h3v3h-3z"})))},me=function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"19",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{fill:"#fff",d:"M0 0h19v2H0zM0 6h19v2H0V6zM0 12h19v2H0z"})))},he=(b.Component,function(e){function t(e){var n;return l()(this,t),(n=u()(this,h()(t).call(this,e))).saveTemplate=n.saveTemplate.bind(f()(n)),n}return v()(t,e),c()(t,[{key:"saveTemplate",value:function(e){Object(y.b)().modules.saveImportModule.saveTemplate()}},{key:"render",value:function(){var e="btn font_montserrat font_500 btn_grey";switch(this.props.templateStatus){case y.a.TEMPLATE_UPDATED:e+=" btn_disabled ";break;case y.a.TEMPLATE_NEED_UPDATE:e+=" btn_active "}return(g.a.createElement("div",{className:"control-group d-flex"},g.a.createElement("button",{className:e,onClick:this.saveTemplate},"UPDATE"),g.a.createElement("button",{className:"btn btn_grey"},g.a.createElement(X,{className:"icon"}))))}}]),t}(b.Component));var pe=Object(H.b)((function(e){return{templateStatus:e.templateStatus.status}}))(he),fe=(n(315),function(e){e.styles;var t=W()(e,["styles"]);return(g.a.createElement("svg",V()({width:"10",height:"11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.583 5.354L9.23 1.707 8.523 1 4.9 4.622 1.753 1.024 1 1.683l3.212 3.67L1 9.025l.753.659L4.9 6.085l3.622 3.622L9.23 9 5.583 5.354z",fill:"#343B4C"}),g.a.createElement("path",{d:"M9.23 1.707l.177.177.176-.177-.176-.177-.177.177zM5.583 5.354l-.176-.177-.177.177.177.176.176-.176zM8.523 1L8.7.823 8.523.646l-.177.177.177.177zM4.9 4.622l-.188.165.175.2.19-.188-.177-.177zM1.753 1.024L1.94.86 1.776.672l-.188.164.165.188zM1 1.683l-.165-.188-.188.164.165.188L1 1.683zm3.212 3.67l.188.165.144-.164-.144-.165-.188.165zM1 9.025L.812 8.86l-.165.188.188.164L1 9.024zm.753.659l-.165.188.188.165.165-.189-.188-.164zM4.9 6.085l.176-.177-.189-.189-.175.201.188.165zm3.622 3.622l-.177.177.177.177.177-.177-.177-.177zM9.23 9l.177.177L9.583 9l-.176-.177L9.23 9zm-.177-7.47L5.407 5.177l.353.353 3.647-3.646-.354-.354zm-.707-.353l.707.707.354-.354L8.7.823l-.354.354zM5.077 4.799L8.7 1.177 8.346.823 4.724 4.445l.353.354zm-3.513-3.61l3.149 3.598.376-.33L1.94.86l-.377.329zm-.4.682l.753-.659-.33-.376-.752.659.33.376zM4.4 5.189l-3.212-3.67-.376.328 3.212 3.671.376-.33zm-.376 0L.812 8.859l.376.33L4.4 5.519l-.376-.33zM.835 9.212l.753.659.33-.376-.753-.659-.33.376zm1.106.635L5.089 6.25l-.377-.33-3.148 3.598.377.33zm2.783-3.585l3.622 3.622.354-.354-3.623-3.622-.353.354zM8.7 9.884l.707-.707-.354-.354-.707.707.354.354zm.707-1.06L5.76 5.176l-.353.353 3.646 3.647.354-.354z",fill:"#000"})))}),de=n(41);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e){function t(){var e;return l()(this,t),(e=u()(this,h()(t).call(this))).tabClick=e.tabClick.bind(f()(e)),e.toggleBrowser=e.toggleBrowser.bind(f()(e)),e.selectAsset=e.selectAsset.bind(f()(e)),e.chooseAsset=e.chooseAsset.bind(f()(e)),e.state={activeTab:"icons",tabs:[{name:"icons",title:"Icons Library"}],assets:e.getAssets("icons"),selectedAsset:null},e}return v()(t,e),c()(t,[{key:"getAssets",value:function(e){switch(e||(e=this.state.activeTab),e){case"icons":return Object(y.f)().getIconsList()}return[]}},{key:"selectAsset",value:function(e){var t=e.currentTarget.dataset.assetname;this.setState((function(e){return be({},e,{selectedAsset:t})}))}},{key:"tabClick",value:function(e){this.setActiveTab(e.target.dataset.tab)}},{key:"setActiveTab",value:function(e){this.setState((function(t){return be({},t,{activeTab:e})}))}},{key:"toggleBrowser",value:function(){this.setState((function(e){return be({},e,{selectedAsset:null})})),this.props.dispatch(Object(de.d)())}},{key:"chooseAsset",value:function(){var e,t=this;if(this.state.assets.forEach((function(n){n.name===t.state.selectedAsset&&(e=n)})),!e)throw"Asset with name ".concat(this.state.selectedAsset," not found in Assets Browser (").concat(this.state.activeTab,")!");this.props.onChoose(e),this.setState((function(e){return be({},e,{selectedAsset:null})})),this.props.dispatch(Object(de.d)())}},{key:"render",value:function(){var e=this,t="assets-browser";this.props.active&&(t+=" assets-browser_active");var n="btn btn_success";return this.state.selectedAsset||(n+=" btn_disabled"),React.createElement("div",{className:t},React.createElement("div",{className:"assets-browser__bg",onClick:this.toggleBrowser}),React.createElement("div",{className:"assets-browser-content"},React.createElement("div",{className:"assets-browser-top"},React.createElement("div",{className:"caption"},"Append Media"),React.createElement("button",{className:"btn btn_bare assets-browser__close"},React.createElement(fe,{className:"icon",onClick:this.toggleBrowser})),React.createElement("div",{className:"assets-browser-nav"},this.state.tabs.map((function(t){var n="assets-browser__tab";return e.state.activeTab===t.name&&(n+=" assets-browser__tab_active"),React.createElement("button",{className:n,onClick:e.tabClick,key:t.name,"data-tab":t.name},t.title)})))),this.state.assets.length?React.createElement("div",{className:"assets-browser-choose-frame"},this.state.assets.map((function(t){var n,a="asset-choose";return"icons"===e.state.activeTab&&(n=t.iconComponent,a+=" asset-choose_icon"),e.state.selectedAsset===t.name&&(a+=" asset-choose_selected"),React.createElement("div",{className:a,"data-assetname":t.name,key:t.name,onClick:e.selectAsset},React.createElement(n,{className:"asset-choose__content"}))}))):"",React.createElement("div",{className:"assets-browser-bottom"},React.createElement("button",{className:n,onClick:this.chooseAsset},"Choose"))))}}]),t}(Component);var Ee,ye=Object(H.b)((function(e){return be({},e.assetsManagerSettings)}))(ge);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ee=function(e){function t(e){var n;return l()(this,t),n=u()(this,h()(t).call(this,e)),window.altrpEditor=f()(n),n.state={activePanel:"settings",templateStatus:y.a.TEMPLATE_UPDATED},n.openPageSettings=n.openPageSettings.bind(f()(n)),n.showSettingsPanel=n.showSettingsPanel.bind(f()(n)),n.showWidgetsPanel=n.showWidgetsPanel.bind(f()(n)),n.onDragEnd=n.onDragEnd.bind(f()(n)),k.a.subscribe(n.templateStatus.bind(f()(n))),n}return v()(t,e),c()(t,[{key:"templateStatus",value:function(){var e=k.a.getState().templateStatus.status;e!==this.state.templateStatus&&this.setState(Oe({},this.state,{templateStatus:e}))}},{key:"initModules",value:function(){this.modules=new L(this),this.modules.loaded()}},{key:"showWidgetsPanel",value:function(){this.setState(Oe({},this.state,{activePanel:"widgets"}))}},{key:"showSettingsPanel",value:function(){this.setState(Oe({},this.state,{activePanel:"settings"}))}},{key:"onDragEnd",value:function(){var e=k.a.getState().elementDrag.element;e&&e.stopDrag&&(console.log("stop"),e.stopDrag()),k.a.dispatch(Object(x.d)())}},{key:"endLoading",value:function(){console.log("editor loaded")}},{key:"componentDidMount",value:function(){this.initModules()}},{key:"openPageSettings",value:function(){this.modules.templateDataStorage.setCurrentRootElement(),this.showSettingsPanel()}},{key:"render",value:function(){var e="",t="editor ";return this.state.templateStatus===y.a.TEMPLATE_SAVING&&(t+=" editor_saving"),k.a.getState().currentElement.currentElement.getType&&"root-element"===k.a.getState().currentElement.currentElement.getType()&&"settings"===this.state.activePanel&&(e=" active"),g.a.createElement(H.a,{store:k.a},g.a.createElement("div",{className:t,onDragEnd:this.onDragEnd},g.a.createElement("div",{className:"left-panel"},g.a.createElement("div",{className:"editor-top-panel"},g.a.createElement("button",{className:"btn btn_hamburger"},g.a.createElement(me,{className:"icon"})),g.a.createElement("div",{className:"logo"},g.a.createElement(re,{viewBox:"0 0 97 35"})),g.a.createElement("button",{className:"btn btn_dots",onClick:this.showWidgetsPanel},g.a.createElement(ue,{className:"icon"}))),g.a.createElement("div",{className:"left-panel-main"},"widgets"===this.state.activePanel&&g.a.createElement(R,null),"settings"===this.state.activePanel&&g.a.createElement(ne,null)),g.a.createElement("div",{className:"editor-bottom-panel d-flex align-content-center justify-center"},g.a.createElement("button",{className:"btn btn_settings"+e,onClick:this.openPageSettings},g.a.createElement(oe.a,{className:"icon"})),g.a.createElement("button",{className:"btn "},g.a.createElement(le,{className:"icon"})),g.a.createElement("button",{className:"btn "},g.a.createElement(ie,{className:"icon"})),g.a.createElement("button",{className:"btn "},g.a.createElement(se,{className:"icon"})),g.a.createElement("button",{className:"btn "},g.a.createElement(ce,{className:"icon"})),g.a.createElement(pe,null))),g.a.createElement("div",{className:"right-panel"},g.a.createElement(ae,null))),g.a.createElement(ye,null))}}]),t}(b.Component);t.default=Ee}}]);
//# sourceMappingURL=1.editor.js.map